<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>Argos.online</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Argos.online">

    <link rel="stylesheet" href="loading.css">
    <link rel="stylesheet" href="body.css">
    <link rel="script" href="type.js">
    <link rel="script" href="gallarey.js">
    <!-- GSAP Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <!-- ScrollTrigger Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
   
</head>

<body>
    <!-- メイン -->  

            <div class="maincontents">
                <h1>Enter Meeting Password</h1>
                <form id="passwordForm">
                  <input type="password" id="meetingPassword" placeholder="Enter password" required />
                  <button type="submit">Join/Create Meeting</button>
                </form>
              
                <script>
                    document.getElementById('passwordForm').addEventListener('submit', (e) => {
                        e.preventDefault();
                        const password = document.getElementById('meetingPassword').value;
                        if (password) {
                            socket.emit('check-room', password); // ルームの存在確認を要求
                        }
                    });

                    socket.on('room-check', ({ exists }) => {
                        if (exists) {
                            // ルームが存在する場合は視聴者として入る
                            window.location.href = `/join/stream.html?password=${encodeURIComponent(password)}`;
                        } else {
                            // ルームが存在しない場合は配信者として入る
                            window.location.href = `/join/stream.html?password=${encodeURIComponent(password)}`;
                        }
                    });
                </script>
                </div>

       <!-- 背景 -->  
<div class="loading">
    

    <script src="gallarey.js"></script>
      
    <div style="position: relative; z-index: -1;" class="gradient-bg">

    <div class="gradients-container">
        <div class="g1"></div>
        <div class="g2"></div>
        <div class="g3"></div>
        <div class="g4"></div>
        <div class="g5"></div>
        <div class="interactive"></div>
      </div>
    </div>
</div>
    <!-- ハンバーガーメニュー -->
  
    <!-- サイドバー -->
 
    <!-- JavaScript -->
    <script>
        const menuToggle = document.getElementById('menu-toggle');
        const navBar = document.getElementById('nav-bar');

        menuToggle.addEventListener('click', () => {
            navBar.classList.toggle('active');
            menuToggle.classList.toggle('open');
        });
        
        document.querySelectorAll('.nav-button').forEach(button => {
            button.addEventListener('click', () => {
                const target = button.id;
                if (target) {
                    window.location.href = target + '.html';
                }
            });
        });
    </script>

    <footer>
        <!--ここに入れろ-->
    </footer>
</body>

</html>